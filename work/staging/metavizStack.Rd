% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plots.R
\name{metavizStack}
\alias{metavizStack}
\title{Stacked plot}
\usage{
metavizStack(obj, mgr, control = metavizControl(title = "stacked plot",
  aggregateFun = colSums), samples = NULL)
}
\arguments{
\item{obj}{MRexperiment object or EpivizMetagenomicsData object.
If EpivizMetagenomicsData object then control is ignored.}

\item{mgr}{manager of a metaviz session.}

\item{control}{List of options passed through `metavizControl`.}

\item{samples}{Index vector of samples to include in plot.}
}
\value{
EpivizMetagenomicsData class object
}
\description{
Produces the stacked plot for the experiment.
}
\examples{
# This will transform the tree to top 9 selected genera due to average abundance
#  of a subset of samples. Then plot the relative abundances of those 9 and 'others'.
# mgr = startMetaviz(localURL="http://epiviz-dev.cbcb.umd.edu/metavis/",
#   workspace = "Ey4CYuaTjNd",useDevel=TRUE, debug=TRUE, verbose=TRUE)
library(msd16s)
msd16s = filterData(msd16s,present=100)
fData(msd16s) = fData(msd16s)[,c(3:9, 1)]
ind = which(pData(msd16s)$Type=="Control" & pData(msd16s)$Country=="Gambia")
obj = metavizTransformSelect(msd16s[,ind],fun=rowMeans,control=metavizControl(aggregateAtDepth="genus",n=10))
# gates = metavizStack(obj,mgr,control=metavizControl(aggregateFun=colSums,aggregateAtDepth=5,log=FALSE))

}
\seealso{
\code{\link{metavizControl}} \code{\link{metaviztree}}
    \code{\link{metavizRank}} \code{\link{metavizOptimize}}
}

